// ─── Admin (Staff Only — separate from Customer) ─────────────
model Admin {
  id String @id @default(cuid())

  firstName String  @map("first_name") @db.VarChar(100)
  lastName  String  @map("last_name") @db.VarChar(100)
  email     String  @unique @db.VarChar(255)
  phone     String? @db.VarChar(20)
  password  String  @db.VarChar(255)
  avatar    String?

  role        AdminRole         @default(ADMIN)
  permissions AdminPermission[] @default([])

  tokens AuthToken[]

  isActive    Boolean   @default(true) @map("is_active")
  lastLoginAt DateTime? @map("last_login_at")
  lastLoginIp String?   @map("last_login_ip") @db.VarChar(45)

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")
  createdBy String?  @map("created_by")

  deletedAt DateTime? @map("deleted_at")
  deletedBy String?   @map("deleted_by")

  @@index([email])
  @@index([role])
  @@index([isActive, deletedAt])
  @@index([deletedAt])
  @@map("admins")
}
