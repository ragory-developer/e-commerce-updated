model Session {
  id String @id @default(cuid())

  userId String @map("user_id")
  user   User   @relation(fields: [userId], references: [id])

  token     String  @unique @db.VarChar(500)
  ipAddress String  @map("Ip_address") @db.VarChar(45)
  userAgent String? @map("user_agent") @db.VarChar(500)

  deviceInfo Json? @map("device_info") @db.JsonB

  lastActiveAt DateTime  @default(now()) @map("last_active_at")
  expiresAt    DateTime  @map("expires_at")
  revokedAt    DateTime? @map("revoked_at")

  createdAt DateTime @default(now()) @map("created_at")

  @@index([userId])
  @@index([token])
  @@index([expiresAt])
  @@index([revokedAt])
  @@index([lastActiveAt])
  @@map("sessions")
}
